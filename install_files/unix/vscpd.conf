<?xml version = "1.0" encoding = "UTF-8" ?>

<!--
  2020-12-02
  Example configuration file Unix
  Ake Hedman, akhe@grodansparadis.com
  https://www.grodansparadis.com
  Documentation for this configuration file is available
  here https://docs.vscp.org/vscpd/15.0/#/configuring_the_vscp_daemon
-->

<vscpconfig>

    <!--
      runasuser  - Switch to given user credentials after startup. Usually, 
                   this option is required when vscpd needs to bind on 
                   privileged ports on UNIX. To do that, vscpd needs to 
                   be started as root. From a security point of view, running 
                   as root is not advisable, therefore this option can be used 
                   to drop privileges. 
                   Default: "vscp"

      guid       - GUID for daemon - if all nills, "-" or not set, the mac addess 
                   or the IP address of the computer will be used to set the 
                   GUID for the daemon. Running with root privileges is needed to 
                   get the MAC address. Best is to set a GUID yourself.
                   Apply for your own GUID series at guid@vscp.org
                   Default: "FF:FF:FF:FF:FF:FF:FF:F5:00:00:00:00:00:00:00:01"

      servername - is a user name for the daemon which it use to greet users with.
                   Default: "The VSCP daemon" 

      debug      - Enable debug definitions here. Se debug section of manual for information. 
                   Debugging flags can also be set on the command line but this setting override
	               any setting that is done there. This is why this section is commented out.
    
      classtypedb - Path to the sqlite3 database with VSCP class & type information.
    -->
    <general runasuser="vscp"
             guid="FF:FF:FF:FF:FF:FF:FF:F5:00:00:00:00:00:00:00:01"
             servername="The VSCP daemon" 
             debug="0x00000000" 
             classtypedb = "/var/lib/vscp/vscpd/vscp_events.sqlite3"
    />

    <!--
        The MQTT settings here is mainly for the daemon itself. The info will
        also be used for drivers that does not have mqtt data defined.
    -->    
    <mqtt host="127.0.0.1"            
            port="1883"
            user="vscp"
            password="secret"
            clientid=""
            qos="0"
            bcleansession="false"
            bretain="false"
            keepalive="60"
            cafile=""
    	    capath=""
    	    certfile=""
    	    keyfile=""
    	    pwkeyfile=""
            format="json"
            topic-interface="vscp/{{guid}}/interfaces" >
            
        <subscribe topic="vscp/{{guid}}/#"
                    qos="0"
                    options="0" />
        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>        
    </mqtt>

    <!-- 
        Add level-I/CANAL drivers here 

        enable - Set to true to load driver.
        name - Set a name for the driver. Space in name will be
               traqnslated to '_'
        config - Level I/CANAL driver configuration string.
        flags  - Level I/CANAL driver configuration flags.
        translation - Bit field for incomming event translation
                      bit 1: Level 1 measurement events -> Level II measurement float events
                      bit 2: Level 1 measurement events -> Level II measurement string events
                      bit 3: All Level I events -> Level I over Level II events.
    -->
    <level1driver enable="true" >

        <!-- The canallog driver -->
        <driver enable="false"
                    name="logger"
                    config="/tmp/canallog.txt"
                    flags="1"
                    translation="0x02"
                    path="/var/lib/vscp/drivers/level1/vscpl1drv-logger.so"
                    guid="FF:FF:FF:FF:FF:FF:FF:F5:01:00:00:00:00:00:00:00" >
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>
        </driver>

        <!-- The can4vscp driver -->
        <driver enable="false"
                name="can4vscp"
                config="/dev/ttyUSB0"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-can4vscp.so"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!--
            The Level I socketcan driver (You may concider using the
            Level II version instead)
        -->
        <driver enable="false" 
                name="socketcanl1"
                config="vcan0"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-socketcan.so"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:03:00:00:00:00:00:00:00" >
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- The can232 driver -->
        <driver enable="false" 
                name="can232"
                config="/dev/ttyS0;19200;0;0;125"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-can232.so"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:04:00:00:00:00:00:00:00" >
 
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

    </level1driver>

    <!-- 
        Add level II VSCP drivers here 

        enable - Set to true to load driver.
        name - Set a name for the driver. Space in name will be
               traqnslated to '_'
        path-driver - Path to the driver dynamic link library file.
        path-config - Path to driver configuration file.
        guid - GUID for driver. Must be set to valid unique GUID.
    -->
    <level2driver enable="true">

        <!-- Level II Logger -->
        <driver enable="false"
                name="Logger"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-logger.so"
                path-config="/var/lib/vscp/vscpd/logger2.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:05:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II lmsensors -->
        <driver enable="false" 
                name="lmsensors"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-lmsensors.so"
                path-config="/var/lib/vscp/vscpd/lmsensors.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:06:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II socketcan  -->
        <driver enable="false" 
                name="socketcan"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-socketcan.so"
                path-config="/var/lib/vscp/vscpd/socketcan.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:07:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II mqtt -->
        <driver enable="false" 
                name="mqtt"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-mqtt.so"
                path-config="/var/lib/vscp/vscpd/mqtt.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:08:00:00:00:00:00:00:00" >
  
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II tcp/ip link -->
        <driver enable="false" 
                name="tcpiplink"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-tcpiplink.so"
                path-config="/var/lib/vscp/vscpd/tcpiplink.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:09:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II raw ethernet -->
        <driver enable="false"
                name="rawethernet"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-raweth.so"
                path-config="/var/lib/vscp/vscpd/raweth.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:0A:00:00:00:00:00:00:00" >
             
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

       <!-- Level II simulation -->
        <driver enable="true"
                name="sim"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-sim.so"
                path-config="/var/lib/vscp/vscpd/sim.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:0B:00:00:00:00:00:00:00" >

                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II 1-wire driver -->
        <driver enable="false"
                name="1-wire"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-wire1.so"
                path-config="/var/lib/vscp/vscpd/wire1.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:0C:00:00:00:00:00:00:00" >
 
                <!--
                    The MQTT settings for driver. Settings are inherited from the main
                    setting so no need to repeat if a setting is the same.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
                    password="secret"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
    	            pwkeyfile=""
                    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

    </level2driver>

</vscpconfig>
